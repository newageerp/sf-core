// @ts-nocheck
import React, { useEffect } from 'react'
import { toast, ToastContainer } from 'react-toastify'
import 'react-toastify/dist/ReactToastify.css'
import { RecoilRoot } from 'recoil'
import { I18nextProvider } from 'react-i18next'
import i18n from '../../_custom/lang/i18'
import { useTemplatesCore } from '@newageerp/v3.templates.templates-core'
import { componentsMap } from '../../v3/templates/TemplateLoader'

interface Props {
    children: any
}

export const RoutesWrapper = ({ children }: Props) => {
    const { templatesMap, setTemplates } = useTemplatesCore();
    useEffect(() => {
        setTemplates({ ...templatesMap, ...componentsMap })
    }, []);
    return (
        <React.Fragment>
            <I18nextProvider i18n={i18n}>
                <RecoilRoot>
                    <React.Fragment>{children}</React.Fragment>
                </RecoilRoot>
            </I18nextProvider>

            <ToastContainer
                position={'bottom-right'}
                hideProgressBar
                newestOnTop={false}
            />
        </React.Fragment>
    )
}